<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Evolving Neural Networks</title>
    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>
  </head>
  <body>
    <center>
    <canvas id="mainCanvas" width="800" height="600"></canvas>
    </center>

<script type="text/javascript">

var canvas = document.getElementById('mainCanvas');
var ctx = canvas.getContext('2d');
var pipeSpacing = 200;
var pipeWidth = 100;
var groundHeight = 50;


function Pipe() {
    this.gapSize = 200;
    this.gapPos = Math.random() * (canvas.height - this.gapSize - groundHeight);
    this.xPos = canvas.width + pipeWidth;
    this.draw = function(){
        ctx.fillStyle = "#00AF00";
        ctx.fillRect(this.xPos, this.gapPos + this.gapSize,
                pipeWidth, canvas.height - (this.gapPos + this.gapSize));
        ctx.fillRect(this.xPos, 0,
                pipeWidth, this.gapPos);
    }
}

var pipes = [];
pipes.push(new Pipe());

function loop() {
    if (pipes[pipes.length - 1].xPos < canvas.width - pipeSpacing) {
        pipes.push(new Pipe());
    }
    if (pipes[0].xPos < -pipeWidth) {
        pipes.shift();
    }

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (var i = 0; i < pipes.length; i++)
    {
        pipes[i].draw();
        pipes[i].xPos -= 2;
    }
    ctx.fillStyle="#9F5F00";
    ctx.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);
    /*
    var p = new Pipe();
    p.xPos -= 300;
    p.draw();
    */
}
setInterval(loop, 20);
/*
var ballRadius = 10;
var x = canvas.width/2;
var y = canvas.height/2;
var dx = 1;
var dy = 2;

function drawBall() {
    ctx.beginPath();
    ctx.arc(x, y, 10, 0, Math.PI*2);
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawBall();

    if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
        dx = -dx;
    }
    if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
        dy = -dy;
    }
    x += dx;
    y += dy;
}
setInterval(draw, 10);
*/

</script>

  </body>
</html>
